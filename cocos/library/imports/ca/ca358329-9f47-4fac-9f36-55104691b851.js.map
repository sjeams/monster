{"version":3,"sources":["assets\\Script\\bage\\Game.js"],"names":["cc","Class","Component","properties","gridLayout","Node","toolPrefab","Prefab","spawnTools","cellWidth","width","cellHeight","height","spacingX","spacingY","getComponent","Layout","cellSize","toolsArray","i","TOOLS","length","tool","instantiate","initInfo","push","addChild","bagBtn","parent","active","forEach","element","removeFromParent"],"mappings":";;;;;;AAAA;;AAEAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,UAAU,EAAEJ,EAAE,CAACK,IADP;AAERC,IAAAA,UAAU,EAAEN,EAAE,CAACO;AAFP,GAHP;AAQL;AAEAC,EAAAA,UAVK,wBAUS;AACV;AACA,QAAIC,SAAS,GAAG,KAAKL,UAAL,CAAgBM,KAAhB,GAAwB,KAAxC;AACA,QAAIC,UAAU,GAAG,KAAKP,UAAL,CAAgBQ,MAAhB,GAAyB,KAA1C;AACA,QAAIC,QAAQ,GAAG,KAAKT,UAAL,CAAgBM,KAAhB,GAAwB,KAAvC;AACA,QAAII,QAAQ,GAAG,KAAKV,UAAL,CAAgBQ,MAAhB,GAAyB,KAAxC;AAEA,SAAKR,UAAL,CAAgBW,YAAhB,CAA6Bf,EAAE,CAACgB,MAAhC,EAAwCC,QAAxC,CAAiDP,KAAjD,GAAyDD,SAAzD;AACA,SAAKL,UAAL,CAAgBW,YAAhB,CAA6Bf,EAAE,CAACgB,MAAhC,EAAwCC,QAAxC,CAAiDL,MAAjD,GAA0DD,UAA1D;AACA,SAAKP,UAAL,CAAgBW,YAAhB,CAA6Bf,EAAE,CAACgB,MAAhC,EAAwCH,QAAxC,GAAmDA,QAAnD;AACA,SAAKT,UAAL,CAAgBW,YAAhB,CAA6Bf,EAAE,CAACgB,MAAhC,EAAwCF,QAAxC,GAAmDA,QAAnD,CAVU,CAYV;;AACA,SAAKI,UAAL,GAAkB,EAAlB;;AACA,SAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACC,YAAMC,MAAtB,EAA8BF,CAAC,EAA/B,EAAmC;AAC/B,UAAIG,IAAI,GAAGtB,EAAE,CAACuB,WAAH,CAAe,KAAKjB,UAApB,CAAX;AACAgB,MAAAA,IAAI,CAACP,YAAL,CAAkB,MAAlB,EAA0BS,QAA1B,CAAmCJ,YAAMD,CAAN,CAAnC;AACA,WAAKD,UAAL,CAAgBO,IAAhB,CAAqBH,IAArB;AACA,WAAKlB,UAAL,CAAgBsB,QAAhB,CAAyBJ,IAAzB;AACH;AACJ,GA9BI;AAgCLK,EAAAA,MAhCK,oBAgCK;AACN;AACA,QAAI,KAAKvB,UAAL,CAAgBwB,MAAhB,CAAuBC,MAA3B,EAAmC;AAC/B;AACA,WAAKzB,UAAL,CAAgBwB,MAAhB,CAAuBC,MAAvB,GAAgC,KAAhC,CAF+B,CAI/B;;AACA,WAAKX,UAAL,CAAgBY,OAAhB,CAAwB,UAAAC,OAAO,EAAI;AAC/BA,QAAAA,OAAO,CAACC,gBAAR;AACH,OAFD;AAGH,KARD,MASK;AACD;AACA,WAAK5B,UAAL,CAAgBwB,MAAhB,CAAuBC,MAAvB,GAAgC,IAAhC,CAFC,CAID;;AACA,WAAKrB,UAAL;AACH;AACJ;AAlDI,CAAT","sourceRoot":"/","sourcesContent":["import {TOOLS} from './Conf';\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        gridLayout: cc.Node,\r\n        toolPrefab: cc.Prefab,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    spawnTools () {\r\n        // 首先确定gridLayout的各个属性\r\n        let cellWidth = this.gridLayout.width * 0.105;\r\n        let cellHeight = this.gridLayout.height * 0.215;\r\n        let spacingX = this.gridLayout.width * 0.022;\r\n        let spacingY = this.gridLayout.height * 0.045;\r\n\r\n        this.gridLayout.getComponent(cc.Layout).cellSize.width = cellWidth;\r\n        this.gridLayout.getComponent(cc.Layout).cellSize.height = cellHeight;\r\n        this.gridLayout.getComponent(cc.Layout).spacingX = spacingX;\r\n        this.gridLayout.getComponent(cc.Layout).spacingY = spacingY;\r\n\r\n        // 根据TOOLS生成相应的道具\r\n        this.toolsArray = [];\r\n        for (let i=0; i<TOOLS.length; i++) {\r\n            let tool = cc.instantiate(this.toolPrefab);\r\n            tool.getComponent('Tool').initInfo(TOOLS[i]);\r\n            this.toolsArray.push(tool);\r\n            this.gridLayout.addChild(tool);\r\n        }\r\n    },\r\n\r\n    bagBtn () {\r\n        // 背包按钮\r\n        if (this.gridLayout.parent.active) {\r\n            // 隐藏节点\r\n            this.gridLayout.parent.active = false;\r\n\r\n            // 删除所有道具(或者不删，只是隐藏，自己决定)\r\n            this.toolsArray.forEach(element => {\r\n                element.removeFromParent();\r\n            });\r\n        }\r\n        else {\r\n            // 显示节点\r\n            this.gridLayout.parent.active = true;\r\n\r\n            // 生成所有道具\r\n            this.spawnTools();\r\n        }\r\n    },\r\n});\r\n"]}