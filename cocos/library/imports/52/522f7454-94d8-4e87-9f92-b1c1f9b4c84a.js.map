{"version":3,"sources":["assets\\Script\\login\\SpriteTextTool.js"],"names":["cc","Class","Component","properties","content","text_sprite","type","SpriteFrame","start","setContent","str","onSetContentChange","createSpriteText","clearItem","childs","node","children","count","length","i","item","sprite","active","getComponent","Sprite","Node","addComponent","setSprite","parent","getSprite","index","clone","width","getRect","height","x","y","tmpRect","Rect","setRect","value","spriteFrame","console","log"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n \r\n    properties: {\r\n        content : \"1000\",\r\n        text_sprite:{\r\n            default : null,\r\n            type : cc.SpriteFrame,\r\n        },\r\n    },\r\n \r\n    start()\r\n    {\r\n        this.setContent(\"8934873\");\r\n    },\r\n \r\n    // 设置文本\r\n    setContent(str)\r\n    {\r\n        this.content = str;\r\n        this.onSetContentChange();\r\n    },\r\n \r\n    onSetContentChange()\r\n    {\r\n        this.createSpriteText();    \r\n    },\r\n \r\n    createSpriteText()\r\n    {\r\n        this.clearItem();\r\n        var childs = this.node.children;\r\n        var count = childs.length;\r\n        for (let i = 0; i < this.content.length; i++)\r\n        {\r\n            var item = null;\r\n            var sprite = null;\r\n            if(i < count)\r\n            {\r\n                item = childs[i];\r\n                item.active = true;\r\n                sprite = item.getComponent(cc.Sprite);\r\n            }\r\n            else\r\n            {\r\n                item = new cc.Node(\"item\");\r\n                sprite = item.addComponent(cc.Sprite);\r\n            }\r\n            this.setSprite(this.content[i],sprite);\r\n            item.parent = this.node;\r\n        }\r\n    },\r\n \r\n    // 获取贴图\r\n    getSprite(index)\r\n    {\r\n        var sprite = this.text_sprite.clone(); // 克隆一张图片\r\n        var width = sprite.getRect().width/10;\r\n        var height = sprite.getRect().height;\r\n        var x = sprite.getRect().x + index * width;\r\n        var y = sprite.getRect().y;\r\n        var tmpRect = new cc.Rect(x,y,width,height);\r\n        sprite.setRect(tmpRect);   // 设置 SpriteFrame 的纹理矩形区域\r\n        return sprite;\r\n    },\r\n    // 设置贴图\r\n    setSprite(value,sprite)\r\n    {\r\n        switch (value) {\r\n            case \"0\":\r\n                sprite.spriteFrame = this.getSprite(0);\r\n                break;\r\n            case \"1\":\r\n                sprite.spriteFrame = this.getSprite(1);            \r\n                break;\r\n            case \"2\":\r\n                sprite.spriteFrame = this.getSprite(2);                \r\n                break;\r\n            case \"3\":\r\n                sprite.spriteFrame = this.getSprite(3);\r\n                break;\r\n            case \"4\":\r\n                sprite.spriteFrame = this.getSprite(4);\r\n                break;\r\n            case \"5\":\r\n                sprite.spriteFrame = this.getSprite(5);\r\n                break;\r\n            case \"6\":\r\n                sprite.spriteFrame = this.getSprite(6);\r\n                break;\r\n            case \"7\":\r\n                sprite.spriteFrame = this.getSprite(7);\r\n                break;\r\n            case \"8\":\r\n                sprite.spriteFrame = this.getSprite(8);\r\n                break;\r\n            case \"9\":\r\n                sprite.spriteFrame = this.getSprite(9);\r\n                break;\r\n            default:\r\n                console.log(\"value not find :\" + value);\r\n                break;\r\n        }        \r\n    },\r\n \r\n    clearItem()\r\n    {\r\n        var childs = this.node.children;\r\n        for (let i = 0; i < childs.length; i++) {\r\n            childs[i].active = false;\r\n        }\r\n    },\r\n});\r\n"]}