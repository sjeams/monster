{"version":3,"sources":["assets\\Script\\commonjs\\post.js"],"names":["HttpHelper","cc","Class","Component","get","url","callback","xhr","loader","getXMLHttpRequest","console","log","open","onreadystatechange","readyState","status","responseText","send","post","params","nums","arguments","length","setRequestHeader","window"],"mappings":";;;;;;AAAA,IAAMA,UAAU,GAAGC,EAAE,CAACC,KAAH,CAAS;AACxB,aAASD,EAAE,CAACE,SADY;;AAGxB;;;;;AAKAC,EAAAA,GARwB,eAQpBC,GARoB,EAQfC,QARe,EAQL;AACf,QAAIC,GAAG,GAAGN,EAAE,CAACO,MAAH,CAAUC,iBAAV,EAAV;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,iCAAiCN,GAA7C;AACAE,IAAAA,GAAG,CAACK,IAAJ,CAAS,KAAT,EAAgBP,GAAhB,EAAqB,IAArB;;AACAE,IAAAA,GAAG,CAACM,kBAAJ,GAAyB,YAAY;AACjC,UAAIN,GAAG,CAACO,UAAJ,KAAmB,CAAnB,IAAyBP,GAAG,CAACQ,MAAJ,IAAc,GAAd,IAAqBR,GAAG,CAACQ,MAAJ,IAAc,GAAhE,EAAsE;AAClET,QAAAA,QAAQ,CAAC,IAAD,EAAMC,GAAG,CAACS,YAAV,CAAR;AACH;AACJ,KAJD;;AAKAT,IAAAA,GAAG,CAACU,IAAJ;AACH,GAlBuB;;AAoBxB;;;;;;AAMAC,EAAAA,IA1BwB,gBA0BnBb,GA1BmB,EA0Bdc,MA1Bc,EA0BNb,QA1BM,EA0BI;AACxB,QAAIc,IAAI,GAAGC,SAAS,CAACC,MAArB;;AACA,QAAGF,IAAI,IAAI,CAAX,EAAa;AACTd,MAAAA,QAAQ,GAAGe,SAAS,CAAC,CAAD,CAApB;AACAF,MAAAA,MAAM,GAAG,EAAT;AACH;;AACD,QAAIZ,GAAG,GAAGN,EAAE,CAACO,MAAH,CAAUC,iBAAV,EAAV;AACAF,IAAAA,GAAG,CAACK,IAAJ,CAAS,MAAT,EAAiBP,GAAjB;AACAE,IAAAA,GAAG,CAACgB,gBAAJ,CAAqB,cAArB,EAAoC,gCAApC;;AACAhB,IAAAA,GAAG,CAACM,kBAAJ,GAAyB,YAAY;AACjC,UAAIN,GAAG,CAACO,UAAJ,KAAmB,CAAnB,IAAyBP,GAAG,CAACQ,MAAJ,IAAc,GAAd,IAAqBR,GAAG,CAACQ,MAAJ,IAAc,GAAhE,EAAsE;AAClET,QAAAA,QAAQ,CAAC,IAAD,EAAMC,GAAG,CAACS,YAAV,CAAR;AACH;AACJ,KAJD;;AAKAT,IAAAA,GAAG,CAACU,IAAJ,CAASE,MAAT;AACH,GAzCuB,CA0CvB;;AA1CuB,CAAT,CAAnB;AA6CAK,MAAM,CAACxB,UAAP,GAAoB,IAAIA,UAAJ,EAApB,EAEA","sourceRoot":"/","sourcesContent":["const HttpHelper = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    /**\r\n     * get请求\r\n     * @param {string} url \r\n     * @param {function} callback \r\n     */\r\n    get(url, callback) {\r\n        var xhr = cc.loader.getXMLHttpRequest();\r\n        console.log(\"Status: Send Get Request to \" + url);\r\n        xhr.open(\"GET\", url, true);\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState === 4 && (xhr.status >= 200 && xhr.status <= 207)) {  \r\n                callback(true,xhr.responseText); \r\n            } \r\n        };\r\n        xhr.send();\r\n    },\r\n\r\n    /**\r\n     * post请求\r\n     * @param {string} url \r\n     * @param {object} params \r\n     * @param {function} callback \r\n     */\r\n    post(url, params, callback) {\r\n        var nums = arguments.length  \r\n        if(nums == 2){  \r\n            callback = arguments[1];  \r\n            params = \"\";  \r\n        }  \r\n        var xhr = cc.loader.getXMLHttpRequest();  \r\n        xhr.open(\"POST\", url);  \r\n        xhr.setRequestHeader(\"Content-Type\",\"application/json;charset=UTF-8\");  \r\n        xhr.onreadystatechange = function () {  \r\n            if (xhr.readyState === 4 && (xhr.status >= 200 && xhr.status <= 207)) {  \r\n                callback(true,xhr.responseText); \r\n            }\r\n        };  \r\n        xhr.send(params); \r\n    }\r\n     // update (dt) {},\r\n});\r\n\r\nwindow.HttpHelper = new HttpHelper();\r\n\r\n// const socket = new WebSocket('ws://localhost:8080');"]}