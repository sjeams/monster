{"version":3,"sources":["SpriteTextTool.js"],"names":["cc","Class","extends","Component","properties","content","text_sprite","default","type","SpriteFrame","start","setContent","str","onSetContentChange","createSpriteText","clearItem","childs","node","children","count","length","i","item","sprite","active","getComponent","Sprite","Node","addComponent","setSprite","parent","getSprite","index","clone","width","getRect","height","x","y","tmpRect","Rect","setRect","value","spriteFrame","console","log"],"mappings":"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","file":"SpriteTextTool.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\login","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n \r\n    properties: {\r\n        content : \"1000\",\r\n        text_sprite:{\r\n            default : null,\r\n            type : cc.SpriteFrame,\r\n        },\r\n    },\r\n \r\n    start()\r\n    {\r\n        this.setContent(\"8934873\");\r\n    },\r\n \r\n    // 设置文本\r\n    setContent(str)\r\n    {\r\n        this.content = str;\r\n        this.onSetContentChange();\r\n    },\r\n \r\n    onSetContentChange()\r\n    {\r\n        this.createSpriteText();    \r\n    },\r\n \r\n    createSpriteText()\r\n    {\r\n        this.clearItem();\r\n        var childs = this.node.children;\r\n        var count = childs.length;\r\n        for (let i = 0; i < this.content.length; i++)\r\n        {\r\n            var item = null;\r\n            var sprite = null;\r\n            if(i < count)\r\n            {\r\n                item = childs[i];\r\n                item.active = true;\r\n                sprite = item.getComponent(cc.Sprite);\r\n            }\r\n            else\r\n            {\r\n                item = new cc.Node(\"item\");\r\n                sprite = item.addComponent(cc.Sprite);\r\n            }\r\n            this.setSprite(this.content[i],sprite);\r\n            item.parent = this.node;\r\n        }\r\n    },\r\n \r\n    // 获取贴图\r\n    getSprite(index)\r\n    {\r\n        var sprite = this.text_sprite.clone(); // 克隆一张图片\r\n        var width = sprite.getRect().width/10;\r\n        var height = sprite.getRect().height;\r\n        var x = sprite.getRect().x + index * width;\r\n        var y = sprite.getRect().y;\r\n        var tmpRect = new cc.Rect(x,y,width,height);\r\n        sprite.setRect(tmpRect);   // 设置 SpriteFrame 的纹理矩形区域\r\n        return sprite;\r\n    },\r\n    // 设置贴图\r\n    setSprite(value,sprite)\r\n    {\r\n        switch (value) {\r\n            case \"0\":\r\n                sprite.spriteFrame = this.getSprite(0);\r\n                break;\r\n            case \"1\":\r\n                sprite.spriteFrame = this.getSprite(1);            \r\n                break;\r\n            case \"2\":\r\n                sprite.spriteFrame = this.getSprite(2);                \r\n                break;\r\n            case \"3\":\r\n                sprite.spriteFrame = this.getSprite(3);\r\n                break;\r\n            case \"4\":\r\n                sprite.spriteFrame = this.getSprite(4);\r\n                break;\r\n            case \"5\":\r\n                sprite.spriteFrame = this.getSprite(5);\r\n                break;\r\n            case \"6\":\r\n                sprite.spriteFrame = this.getSprite(6);\r\n                break;\r\n            case \"7\":\r\n                sprite.spriteFrame = this.getSprite(7);\r\n                break;\r\n            case \"8\":\r\n                sprite.spriteFrame = this.getSprite(8);\r\n                break;\r\n            case \"9\":\r\n                sprite.spriteFrame = this.getSprite(9);\r\n                break;\r\n            default:\r\n                console.log(\"value not find :\" + value);\r\n                break;\r\n        }        \r\n    },\r\n \r\n    clearItem()\r\n    {\r\n        var childs = this.node.children;\r\n        for (let i = 0; i < childs.length; i++) {\r\n            childs[i].active = false;\r\n        }\r\n    },\r\n});\r\n"]}